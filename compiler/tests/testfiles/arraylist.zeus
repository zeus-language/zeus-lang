use std::array;

fn main() : i32 {
    let mut arr : array<i32> = new_array<i32>();
    arr.push(10);
    arr.push(20);
    arr.push(30);

    for i in 0 as i64 .. arr.length() {
        printf(r"Element at index %d: %d\n", i, arr.get(i));
    }

    let popped_value : i32 = arr.pop();
    printf(r"Popped value: %d\n", popped_value);

    arr.set(0 as i64, 100);
    printf(r"Element at index 0 after set: %d\n", arr.get(0 as i64));

    arr.clear();
    printf(r"Array length after clear: %d\n", arr.length());

    arr.destroy();
    return 0;
}